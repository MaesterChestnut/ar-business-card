<html>
  <head>
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
<script src="https://rawgit.com/jeromeetienne/ar.js/master/aframe/build/aframe-ar.js"></script>
  <script src="threex.domevents.js"></script>
  </head>
  <body>
    <a-scene artoolkit>
      <a-assets>
        <a-asset-item id="gman" src="hollow_mask/scene.gltf"></a-asset-item>
      </a-assets>

      <!--a-box position="0 0 1" height="1" width="1"></a-box-->
      <a-entity geometry id='gman-id' position="0 0 1" gltf-model="#gman"
        scale="0.5 0.5 0.5" rotation="-90">
        <a-animation attribute="scale"
                     begin="appear" to="2 2 2" dur="6000"></a-animation>
      </a-entity>
      <!--a-marker-camera preset='custom' type='pattern' url="https://s3.amazonaws.com/aws-website-chestnutmeansbusiness-l2ucx/panther-pattern.patt"></a-marker-camera-->
    <a-marker preset='hiro'></a-marker>

    </a-scene>
    <script>
      document.addEventListener('keydown', (e) => {
        if(event.keyCode == 37) {
          document.getElementById('gman-id').emit('appear');
        }
      });
      console.log('Visible: ', document.querySelector('a-marker').object3D.visible);

      document.querySelector('a-entity').addEventListener('componentchanged', (evt) => {
        console.log('Camera Changed ',evt);
      });
      document.querySelector('a-entity').addEventListener('physicscollided', (evt) => {
        console.log('Camera Physics collided ', evt);
      });
      document.querySelector('a-entity').addEventListener('focus', (evt) => {
        console.log('Camera focus ', evt);
      });
      document.querySelector('a-entity').addEventListener('componentinitialized', (evt) => {
        console.log('Camera init ', evt);
      });
      document.querySelector('a-entity').addEventListener('stateadded', (evt) => {
        console.log('Camera state added ', evt);
      });
      document.querySelector('a-entity').addEventListener('stateremoved', (evt) => {
        console.log('Camera stateremoved ', evt);
      });
     /* console.log('Mesh: ', document.querySelector('a-entity').object3DMap);
      document.querySelector('a-entity').setObject3D('mesh', new THREE.Mesh());
      console.log('Mesh: ', document.querySelector('a-entity').object3DMap);
      let mesh = document.querySelector('a-entity').object3DMap.mesh;
      let renderer = new THREE.WebGLRenderer();
      let camera	= new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.01, 1000)
      let domEvents = new THREEx.DomEvents(camera, renderer.domElement);
      domEvents.addEventListener(mesh, 'click', (evt) => {
        console.log('Camera click ', evt);
      }, false);*/

      //console.log(document.querySelector('a-marker-camera').components.position);
    </script>
  </body>
</html>

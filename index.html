<html>
  <head>
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/nikolaymihaylov/AR.js/dev/aframe/build/aframe-ar.js"></script>
  </head>
  <body>
    <a-scene embedded arjs='sourceType: webcam'>
      <a-assets>
        <a-asset-item id="gman" src="hollow_mask/scene.gltf"></a-asset-item>
      </a-assets>

      <!--a-box position="0 0 1" height="1" width="1"></a-box-->
      <!--a-marker-camera preset='custom' type='pattern' url="https://s3.amazonaws.com/aws-website-chestnutmeansbusiness-l2ucx/panther-pattern.patt"></a-marker-camera-->
      <a-marker preset='custom' type='pattern' url='https://github.com/MaesterChestnut/ar-business-card/blob/master/panther-pattern.patt'
        registerevents emitevents='true'>
        <a-entity geometry id='gman-id' position="0 0 -1" gltf-model="#gman"
        scale="2 2 2" rotation="-90">
        <a-animation attribute="scale"
                     begin="appear" to="5 5 5" dur="6000"></a-animation>
        </a-entity>
      </a-marker>

    </a-scene>
    <script>
    AFRAME.registerComponent('registerevents', {
      init: function() {
        var marker = this.el;
        // Make the element emit events when found and when lost.
  			marker.setAttribute('emitevents', 'true');
  
        marker.addEventListener('markerFound', () => {
  				console.log('markerFound');
  				// TODO: Add your own code here to react to the marker being found.
  			});
  
  			marker.addEventListener('markerLost', function() {
  				console.log('markerLost');
          document.getElementById('gman-id').emit('appear');
  				// TODO: Add your own code here to react to the marker being lost.
  			});
      }
    });
  </script>
  </body>
</html>
